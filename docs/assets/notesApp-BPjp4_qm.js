import"./modulepreload-polyfill-B5Qt9EMX.js";document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("notes-list"),y=document.getElementById("new-note-form"),f=document.getElementById("note-content"),p=document.getElementById("note-category"),d=document.getElementById("filter-category"),l=document.getElementById("search-bar");let i=!1;function u(){return JSON.parse(localStorage.getItem("notes"))||[]}function m(t){localStorage.setItem("notes",JSON.stringify(t))}function a(t="All",e=""){const s=u();r.innerHTML="",s.sort((n,g)=>g.id-n.id),s.filter(n=>{const g=t==="All"||n.category===t,C=n.content.toLowerCase().includes(e.toLowerCase()),L=!(i&&n.category==="Personal");return g&&C&&L}).forEach(n=>{v(n)})}function v(t){const e=document.createElement("li");e.classList.add("note-item"),e.setAttribute("data-id",t.id),e.innerHTML=`
            <span class="note-content">${t.content}</span>
            <span class="note-category" data-category="${t.category}">(${t.category})</span>
            <span class="note-date">${t.date}</span>
            <button class="edit-note">Edit</button>
            <button class="delete-note">Delete</button>
        `,e.querySelector(".edit-note").addEventListener("click",()=>{E(t.id)}),e.querySelector(".delete-note").addEventListener("click",()=>{N(t.id)}),r.appendChild(e)}function E(t){const e=u(),s=e.findIndex(o=>o.id===t);if(s!==-1){const o=prompt("Edit your note:",e[s].content);if(o!==null&&o.trim()!==""){e[s].content=o.trim(),m(e);const n=document.querySelector(`[data-id="${t}"] .note-content`);n.textContent=o.trim()}}}function N(t){const s=u().filter(n=>n.id!==t);m(s);const o=document.querySelector(`[data-id="${t}"]`);o&&o.remove()}const c=document.createElement("button");c.textContent="Hide Personal Notes",c.style.margin="10px",c.addEventListener("click",()=>{i=!i,c.textContent=i?"Show Personal Notes":"Hide Personal Notes",a(d.value,l.value)}),r.parentNode.insertBefore(c,r),y.addEventListener("submit",t=>{t.preventDefault();const e=f.value.trim(),s=p.value;if(!e){alert("Please enter a note.");return}const o={id:Date.now(),content:e,category:s,date:new Date().toLocaleString()},n=u();n.push(o),m(n),a(),y.reset()}),d.addEventListener("change",()=>{const t=d.value,e=l.value;a(t,e)}),l.addEventListener("input",()=>{const t=l.value,e=d.value;a(e,t)}),a()});
