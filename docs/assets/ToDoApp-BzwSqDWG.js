import"./modulepreload-polyfill-B5Qt9EMX.js";document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("new-task-form"),v=document.getElementById("upcoming-tasks-list"),I=document.getElementById("completed-tasks-list"),y=document.getElementById("late-tasks-list"),f=document.getElementById("task-time"),g=document.getElementById("set-reminder");g.addEventListener("change",()=>{f.disabled=!g.checked}),p(),setInterval(l,6e4),a.addEventListener("submit",t=>{t.preventDefault();const e=document.getElementById("task-title").value,c=document.getElementById("task-date").value,n=document.getElementById("task-time").value,r=document.getElementById("task-category").value;if(g.checked&&!n&&!confirm("You have not set a time for the reminder. Do you want to continue without a time?"))return;const k={id:Date.now(),title:e,date:c,time:n,category:r,completed:!1};B(k),i(k,!1),f.disabled=!0,g.checked=!1,a.reset()});function p(){m().forEach(e=>{e.completed?i(e,!0):s(e)?i(e,!1,!0):i(e,!1)})}function i(t,e,c=!1){const n=document.createElement("li");if(n.classList.add("task-item"),n.setAttribute("data-id",t.id),n.classList.add(t.category==="work"?"work-task":"personal-task"),c&&n.classList.add("late-task"),n.innerHTML=`
            <span class="task-title">${t.title}</span>
            <span class="task-datetime">${t.date} ${t.time}</span>
            <span class="task-category">[${t.category}]</span>
            ${!e&&!c?'<button class="mark-complete">Complete</button>':""}
            <button class="edit-task">Edit</button>
            <button class="delete-task">Delete</button>
        `,e)I.appendChild(n);else if(c)y.appendChild(n);else{v.appendChild(n);const E=n.querySelector(".mark-complete");E&&E.addEventListener("click",()=>{o(t.id)})}n.querySelector(".edit-task").addEventListener("click",()=>{d(t.id,e)}),n.querySelector(".delete-task").addEventListener("click",()=>{u(t.id)})}function d(t,e,c){const n=e?getCompletedTasksFromLocalStorage():m(),r=n.findIndex(k=>k.id===t);if(r!==-1){const k=n[r];document.getElementById("task-title").value=k.title,document.getElementById("task-date").value=k.date,document.getElementById("task-time").value=k.time||"",document.getElementById("task-category").value=k.category,n.splice(r,1),e?b(n):T(n);const E=document.querySelector(`[data-id="${t}"]`);E&&E.remove()}}function o(t){const e=m(),c=e.findIndex(n=>n.id===t);if(c!==-1){const n=e[c];n.completed=!0,e.splice(c,1),T(e),S(n);const r=document.querySelector(`[data-id="${t}"]`);r&&r.remove(),i(n,!0)}}function s(t){return new Date(`${t.date}T${t.time||"23:59"}`)<new Date}function l(){m().forEach(e=>{if(!e.completed&&s(e)){const c=document.querySelector(`[data-id="${e.id}"]`);c&&c.parentElement.id==="upcoming-tasks-list"&&(c.remove(),i(e,!1,!0))}})}function u(t){const c=m().filter(r=>r.id!==t);T(c);const n=document.querySelector(`[data-id="${t}"]`);n&&n.remove()}function m(){return JSON.parse(localStorage.getItem("tasks"))||[]}function B(t){const e=m();e.push(t),T(e)}function T(t){localStorage.setItem("tasks",JSON.stringify(t))}function S(t){const e=JSON.parse(localStorage.getItem("completedTasks"))||[];e.push(t),localStorage.setItem("completedTasks",JSON.stringify(e))}function b(t){localStorage.setItem("completedTasks",JSON.stringify(t))}});document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("new-note-form"),v=document.getElementById("notes-list");I(),a.addEventListener("submit",o=>{o.preventDefault();const s=document.getElementById("note-content").value,l={id:Date.now(),content:s};i(l),y(l),a.reset()});function I(){p().forEach(s=>{y(s)})}function y(o){const s=document.createElement("li");s.classList.add("note-item"),s.setAttribute("data-id",o.id),s.innerHTML=`
            <span class="note-content">${o.content}</span>
            <button class="edit-note">Edit</button>
            <button class="delete-note">Delete</button>
        `,s.querySelector(".edit-note").addEventListener("click",()=>{f(o.id)}),s.querySelector(".delete-note").addEventListener("click",()=>{g(o.id)}),v.appendChild(s)}function f(o){const s=p(),l=s.findIndex(u=>u.id===o);if(l!==-1){const u=prompt("Edit your note:",s[l].content);if(u!==null){s[l].content=u,d(s);const m=document.querySelector(`[data-id="${o}"] .note-content`);m.textContent=u}}}function g(o){const l=p().filter(m=>m.id!==o);d(l);const u=document.querySelector(`[data-id="${o}"]`);u&&u.remove()}function p(){return JSON.parse(localStorage.getItem("notes"))||[]}function i(o){const s=p();s.push(o),d(s)}function d(o){localStorage.setItem("notes",JSON.stringify(o))}});document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("background-music"),v=document.getElementById("play-music"),I=document.getElementById("pause-music"),y=document.getElementById("stop-music"),f=document.getElementById("progress-bar"),g=document.getElementById("current-time"),p=document.getElementById("total-duration");v.addEventListener("click",()=>{a.play()}),I.addEventListener("click",()=>{a.pause()}),y.addEventListener("click",()=>{a.pause(),a.currentTime=0}),a.addEventListener("timeupdate",()=>{const d=a.currentTime,o=a.duration;f.value=d/o*100,g.textContent=i(d),isNaN(o)||(p.textContent=i(o))}),f.addEventListener("input",()=>{const d=a.duration;a.currentTime=f.value/100*d});function i(d){const o=Math.floor(d/60),s=Math.floor(d%60);return`${o}:${s<10?"0":""}${s}`}});const L=document.getElementById("volume-control");L.addEventListener("input",()=>{const a=document.getElementById("background-music");a.volume=L.value});
